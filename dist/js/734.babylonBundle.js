(self.webpackChunkbabylonjs_typescript_webpack_simple_scene=self.webpackChunkbabylonjs_typescript_webpack_simple_scene||[]).push([[734],{2734:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RTTDebug:()=>s});var a=i(1146),n=i(6584),r=i(5454),s=function(){function e(e,t,i){void 0===i&&(i=5),this._engine=t,this._scene=e,this._debugPlaneList=[],this._guiBackgrounds=[],this._guiTexts=[],this._camera=new a.YfP("debug",-Math.PI/2,Math.PI/2,10,new a.Pa4(0,0,0),this._scene),this._camera.mode=a.V1s.ORTHOGRAPHIC_CAMERA,this._camera.layerMask=268435456,this._gui=n.in.CreateFullscreenUI("debugGUI",!0,e),this._gui.layer.layerMask=268435456,this._makePlanes(i)}return Object.defineProperty(e.prototype,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),e.prototype.setTexture=function(e,t,i,a){var n,r=this;void 0===a&&(a=1),this._debugPlaneList[e].material.emissiveTexture=i,1!==a&&(null===(n=this._debugPlaneList[e].material)||void 0===n||n.onBindObservable.add((function(){var t;null===(t=r._debugPlaneList[e].material.getEffect())||void 0===t||t.setFloat("multiplier",a)}))),this._debugPlaneList[e].name=t,this._debugPlaneList[e].material.name=t,this._guiTexts[e].text=t},e.prototype._makePlanes=function(e){var t=new n.rj("grid");t.addRowDefinition(1),this._gui.addControl(t);for(var i=0;i<e;++i){for(var s=a.VO7.CreatePlane("plane"+i,{size:1},this._scene),o=s.getVerticesData("uv"),l=0;l<o.length;l+=2)o[l+1]=1-o[l+1];s.setVerticesData("uv",o),s.layerMask=268435456,s.position.x+=.5,s.position.y-=.5,s.bakeCurrentTransformIntoVertices(),this._debugPlaneList.push(s);var h=new r.tk("planemat"+i,this._scene);s.material=h,h.AddUniform("multiplier","float","1.0"),h.Fragment_Before_FragColor("\n                color.rgba *= vec4(multiplier);\n            "),h.disableLighting=!0,t.addColumnDefinition(.05);var _=new n.Ae("text");_.background="green",_.color="white",_.thickness=2,_.width=.95,_.horizontalAlignment=n.oT.HORIZONTAL_ALIGNMENT_CENTER,_.verticalAlignment=n.oT.VERTICAL_ALIGNMENT_TOP,this._guiBackgrounds.push(_);var g=new n.al("title","");g.color="white",g.horizontalAlignment=n.oT.HORIZONTAL_ALIGNMENT_CENTER,g.verticalAlignment=n.oT.VERTICAL_ALIGNMENT_TOP,g.textHorizontalAlignment=n.oT.HORIZONTAL_ALIGNMENT_CENTER,g.textVerticalAlignment=n.oT.VERTICAL_ALIGNMENT_CENTER,this._guiTexts.push(g),t.addControl(_,0,i),t.addControl(g,0,i)}for(i=e;i<20;++i)t.addColumnDefinition(.05);this._resize(),this._engine.onResizeObservable.add(this._resize.bind(this))},e.prototype._resize=function(){var e=this._engine.getRenderWidth(),t=this._engine.getRenderHeight(),i=e/t;this._camera.orthoLeft=-5*i,this._camera.orthoRight=5*i,this._camera.orthoTop=5,this._camera.orthoBottom=-5,this._camera.getProjectionMatrix(!0);var n=this._camera.getTransformationMatrix().invert(),r=new a.Pa4(-1,1,.001),s=new a.Pa4(-1,1,.001);r.x+=.005,s.x+=.005;var o=Math.floor(.09*t*i/2+5);this._guiBackgrounds[0].parent.paddingTop=o+"px";for(var l=0;l<this._debugPlaneList.length;++l){var h=this._debugPlaneList[l];s.x+=.09;var _=a.Pa4.TransformCoordinates(r,n),g=a.Pa4.TransformCoordinates(s,n).x-_.x;h.scaling.set(g,g,1),h.position.set(_.x,_.y,_.z),s.x+=.01,r.x=s.x,this._guiBackgrounds[l].height=20*e/1920+"px",this._guiTexts[l].height=20*e/1920+"px",this._guiTexts[l].fontSize=8*e/1920+"px"}},e}()}}]);
//# sourceMappingURL=734.babylonBundle.js.map
(self.webpackChunkbabylonjs_ocean_demo=self.webpackChunkbabylonjs_ocean_demo||[]).push([[699,789],{1789:(t,o,e)=>{"use strict";e.r(o),e.d(o,{Vector3Float32:()=>h});var r,i=e(2264),n=e(2281),a=(r=function(t,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=t}r(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),s=n.w1.FloatRound,h=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return a(o,t),o.prototype.getClassName=function(){return"Vector3Float32"},o.prototype.addInPlaceFromFloats=function(t,o,e){return this.x=s(this.x+t),this.y=s(this.y+o),this.z=s(this.z+e),this},o.prototype.add=function(t){return this.addToRef(t,new o(this._x,this._y,this._z))},o.prototype.addScalar=function(t){var e=new o(t,t,t);return this.addToRef(e,e)},o.prototype.addToRef=function(t,o){return o.copyFromFloats(s(this._x+t._x),s(this._y+t._y),s(this._z+t._z))},o.prototype.subtractInPlace=function(t){return this.x=s(this.x-t._x),this.y=s(this.y-t._y),this.z=s(this.z-t._z),this},o.prototype.subtract=function(t){return new o(this._x,this._y,this._z).subtractInPlace(t)},o.prototype.subtractToRef=function(t,o){return this.subtractFromFloatsToRef(t._x,t._y,t._z,o)},o.prototype.subtractFromFloats=function(t,e,r){return this.subtractFromFloatsToRef(t,e,r,new o(this._x,this._y,this._z))},o.prototype.subtractFromFloatsToRef=function(t,o,e,r){return r.copyFromFloats(s(this._x-t),s(this._y-o),s(this._z-e))},o.prototype.scaleInPlace=function(t){return this.x=s(this.x*t),this.y=s(this.y*t),this.z=s(this.z*t),this},o.prototype.scale=function(t){return new o(this._x,this._y,this._z).scaleInPlace(t)},o.prototype.scaleToRef=function(t,o){return o.copyFromFloats(s(this._x*t),s(this._y*t),s(this._z*t))},o.prototype.scaleAndAddToRef=function(t,o){return o.addInPlaceFromFloats(s(this._x*t),s(this._y*t),s(this._z*t))},o.prototype.multiplyInPlace=function(t){return this.x=s(this.x*t._x),this.y=s(this.y*t._y),this.z=s(this.z*t._z),this},o.prototype.multiply=function(t){return this.multiplyByFloats(t._x,t._y,t._z)},o.prototype.multiplyToRef=function(t,o){return o.copyFromFloats(s(this._x*t._x),s(this._y*t._y),s(this._z*t._z))},o.prototype.multiplyByFloats=function(t,e,r){var i=new o(t,e,r);return this.multiplyToRef(i,i)},o.prototype.divide=function(t){return this.divideToRef(t,new o)},o.prototype.divideToRef=function(t,o){return o.copyFromFloats(s(this._x/t._x),s(this._y/t._y),s(this._z/t._z))},o.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},o.prototype.pow=function(t){var e=new o;return e.x=s(Math.pow(this._x,t._x)),e.y=s(Math.pow(this._y,t._y)),e.z=s(Math.pow(this._z,t._z)),e},o.prototype.length=function(){return s(Math.sqrt(s(s(s(this._x*this._x)+s(this._y*this._y))+s(this._z*this._z))))},o.prototype.lengthSquared=function(){return s(s(s(this._x*this._x)+s(this._y*this._y))+s(this._z*this._z))},o.prototype.normalize=function(){return this.normalizeFromLength(this.length())},o.prototype.normalizeFromLength=function(t){return 0===t||1===t?this:this.scaleInPlace(s(1/t))},o.prototype.normalizeToNew=function(){var t=new o(0,0,0);return this.normalizeToRef(t),t},o.prototype.normalizeToRef=function(t){var o=this.length();return 0===o||1===o?t.copyFromFloats(this._x,this._y,this._z):this.scaleToRef(s(1/o),t)},o.prototype.copyFromFloats=function(t,o,e){return this.x=t,this.y=o,this.z=e,this},o.Lerp=function(t,e,r){var i=new o(0,0,0);return o.LerpToRef(t,e,r,i),i},o.LerpToRef=function(t,o,e,r){r.x=s(t._x+s(s(o._x-t._x)*e)),r.y=s(t._y+s(s(o._y-t._y)*e)),r.z=s(t._z+s(s(o._z-t._z)*e))},o.Dot=function(t,o){return s(s(s(t._x*o._x)+s(t._y*o._y))+s(t._z*o._z))},o.ToFloat32=function(t,o){o.set(s(t.x),s(t.y),s(t.z))},o}(i.Vector3)},6699:(t,o,e)=>{"use strict";e.r(o);var r=e(2264),i=e(9781),n=e(1789),a=e(2281).w1.FloatRound,s=a(Math.PI),h=new n.Vector3Float32,c=new n.Vector3Float32,l=new n.Vector3Float32,p=new n.Vector3Float32,u=new n.Vector3Float32,y=new n.Vector3Float32,_=a(1e3),f=a(s/a(1.95)),d=a(1.5),F=a(4),x=a(2*s),w=new n.Vector3Float32(a(68e-8),a(55e-8),a(45e-8)),z=new n.Vector3Float32(a(.686),a(.678),a(.666)),m=a(8400),M=a(1250),v=new n.Vector3Float32(a(1),a(1),a(1)),T=(new n.Vector3Float32(a(2),a(2),a(2)),new n.Vector3Float32(a(1.5),a(1.5),a(1.5))),V=new n.Vector3Float32(a(.5),a(.5),a(.5)),R=new n.Vector3Float32(a(.1),a(.1),a(.1)),b=new n.Vector3Float32(a(a(0)*a(.3)),a(a(.001)*a(.3)),a(a(.0025)*a(.3)));i.fE.prototype.getSunColor=function(){var t=a(.15),o=a(.5),e=a(.1),i=a(.2),P=a(.02),g=a(.3),I=new n.Vector3Float32(a(1e3),a(1e3),a(1e3)),S=function(r){var n=r.scale(t).addScalar(a(e*o)),s=r.scale(t).addScalar(o),h=r.multiply(n).addScalar(a(i*P)),c=r.multiply(s).addScalar(a(i*g));return h.divide(c).addScalar(-a(P/g))};n.Vector3Float32.ToFloat32(this.sunPosition,h),n.Vector3Float32.ToFloat32(this.up,l);var C=a(1-r.Scalar.Clamp(a(1-a(Math.exp(a(h.y/45e4)))),0,1)),L=a(a(this.rayleigh)-1*a(1-C));h.normalizeToRef(c);var j,O,k=(j=n.Vector3Float32.Dot(c,l),a(_*Math.max(0,a(1-a(Math.exp(-a(f-a(Math.acos(j)))/a(d))))))),D=(O=a(5e-4),p.set(a(O/94),a(O/40),a(O/18)),p).scale(L),A=function(t,o,e){var r=a(a(a(.2)*e)*a(1e-17)),i=a(F-2),n=a(a(a(.434)*r)*s);return u.set(a(a(n*a(Math.pow(a(x/t.x),i)))*a(o.x)),a(a(n*a(Math.pow(a(x/t.y),i)))*a(o.y)),a(a(n*a(Math.pow(a(x/t.z),i)))*a(o.z))),u}(w,z,a(this.turbidity)).scale(a(this.mieCoefficient)),q=a(Math.acos(Math.max(0,c.y))),B=a(m/a(a(Math.cos(q))+a(a(.15)*a(Math.pow(a(a(93.885)-a(a(180*q)/s)),a(-1.253)))))),E=a(M/(a(Math.cos(q))+a(a(.15)*a(Math.pow(a(a(93.885)-a(a(180*q)/s)),a(-1.253)))))),N=D.scale(B).add(A.scale(E));N.set(a(Math.exp(-N.x)),a(Math.exp(-N.y)),a(Math.exp(-N.z)));var G,H=a(a(3/a(16*s))*a(1+a(Math.pow(1,2)))),J=(G=a(this.mieDirectionalG),a(a(1/a(4*s))*a(a(1-a(Math.pow(G,2)))/a(Math.pow(1-a(1*a(2*G))+a(Math.pow(G,2)),1.5))))),K=D.scale(H),Q=A.scale(J),U=K.add(Q).divide(D.add(A)).scale(k),W=U.multiply(v.subtract(N)).pow(T),X=U.multiply(N).pow(V),Y=r.Scalar.Clamp(a(Math.pow(a(1-n.Vector3Float32.Dot(l,c)),5)),0,1);W=W.multiply(n.Vector3Float32.Lerp(v,X,Y));var Z=R.multiply(N);Z.addInPlace(N.scale(a(19e3*k)));var $=v.divide(S(I)),tt=S(W.add(Z).scale(a(.04)).add(b).scale(a(Math.log2(a(2/a(Math.pow(this.luminance,4)))))));return n.Vector3Float32.ClampToRef(tt.multiply($),V,v,y),new r.Color3(y.x,y.y,y.z)}}}]);
//# sourceMappingURL=699.babylonBundle.js.map
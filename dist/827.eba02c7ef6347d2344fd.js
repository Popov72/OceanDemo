"use strict";(self.webpackChunkbabylonjs_ocean_demo=self.webpackChunkbabylonjs_ocean_demo||[]).push([[827],{827:(e,a,s)=>{s.r(a),s.d(a,{OceanGUI:()=>o});var d=s(3353),i=s(4651),_=s(1063);class o{constructor(e,a,s,d,i){this._scene=a,this._visible=!0,this._onKeyObserver=null,this._paramRead=d,this._paramChanged=i;const o=document.getElementById("datGUI");null!==o&&o.remove(),this._gui=new _.ZP,this._gui.domElement.style.marginTop="60px",this._gui.domElement.id="datGUI",this._setupKeyboard(),this._initialize(e)}static LoadDAT(){return i.w1.LoadScriptAsync("https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.2/dat.gui.min.js")}set visible(e){e!==this._visible&&(this._visible=e,this._gui.domElement.style.display=e?"":"none")}dispose(){const e=document.getElementById("datGUI");null!==e&&e.remove(),this._scene.onKeyboardObservable.remove(this._onKeyObserver)}_setupKeyboard(){this._onKeyObserver=this._scene.onKeyboardObservable.add((e=>{switch(e.type){case d.KeyboardEventTypes.KEYDOWN:break;case d.KeyboardEventTypes.KEYUP:"F8"===e.event.key&&(this.visible=!this._visible)}}))}_initialize(e){this._makeMenuGeneral(),e?this._makeMenuProceduralSky():this._makeMenuSkybox(),this._makeMenuWavesGenerator(),this._makeMenuOceanGeometry(),this._makeMenuOceanShader(),this._makeMenuBuoyancy()}_addList(e,a,s,d,i){e.add(a,s,i).name(d).onChange((e=>{this._paramChanged(s,e)}))}_addCheckbox(e,a,s,d){e.add(a,s).name(d).onChange((e=>{this._paramChanged(s,e)}))}_addSlider(e,a,s,d,i,_,o){e.add(a,s,i,_,o).name(d).onChange((e=>{this._paramChanged(s,e)}))}_addColor(e,a,s,d){e.addColor(a,s).name(d).onChange((e=>{this._paramChanged(s,e)}))}_makeMenuGeneral(){const e={size:this._paramRead("size"),envIntensity:this._paramRead("envIntensity"),lightIntensity:this._paramRead("lightIntensity"),enableShadows:this._paramRead("enableShadows"),enableGlow:this._paramRead("enableGlow"),useZQSD:this._paramRead("useZQSD"),showDebugRTT:this._paramRead("showDebugRTT")},a=this._gui.addFolder("General");this._addList(a,e,"size","Resolution",[256,128,64,32]),this._addSlider(a,e,"envIntensity","Env intensity",0,4,.05),this._addSlider(a,e,"lightIntensity","Light intensity",0,5,.05),this._addCheckbox(a,e,"enableShadows","Enable shadows"),this._addCheckbox(a,e,"enableGlow","Enable Glow layer"),this._addCheckbox(a,e,"useZQSD","Use ZQSD"),this._addCheckbox(a,e,"showDebugRTT","Show debug RTT"),a.open()}_makeMenuProceduralSky(){const e={procSky_inclination:this._paramRead("procSky_inclination"),procSky_azimuth:this._paramRead("procSky_azimuth"),procSky_luminance:this._paramRead("procSky_luminance"),procSky_turbidity:this._paramRead("procSky_turbidity"),procSky_rayleigh:this._paramRead("procSky_rayleigh"),procSky_mieCoefficient:this._paramRead("procSky_mieCoefficient"),procSky_mieDirectionalG:this._paramRead("procSky_mieDirectionalG")},a=this._gui.addFolder("Sky");this._addSlider(a,e,"procSky_inclination","Inclination",-.5,.5,.001),this._addSlider(a,e,"procSky_azimuth","Azimuth",0,1,.001),this._addSlider(a,e,"procSky_luminance","Luminance",.001,1,.001),this._addSlider(a,e,"procSky_turbidity","Turbidity",.1,100,.1),this._addSlider(a,e,"procSky_rayleigh","Rayleigh",.1,10,.1),this._addSlider(a,e,"procSky_mieCoefficient","Mie Coefficient",0,.1,1e-4),this._addSlider(a,e,"procSky_mieDirectionalG","Mie DirectionalG",0,1,.01),a.open()}_makeMenuSkybox(){const e={skybox_lightColor:this._paramRead("skybox_lightColor"),skybox_directionX:this._paramRead("skybox_directionX"),skybox_directionY:this._paramRead("skybox_directionY"),skybox_directionZ:this._paramRead("skybox_directionZ")},a=this._gui.addFolder("Sky");this._addColor(a,e,"skybox_lightColor","Light color"),this._addSlider(a,e,"skybox_directionX","Light dir X",-10,10,.001),this._addSlider(a,e,"skybox_directionY","Light dir Y",-10,-.01,.001),this._addSlider(a,e,"skybox_directionZ","Light dir Z",-10,10,.001)}_makeMenuWavesGenerator(){const e={waves_g:this._paramRead("waves_g"),waves_depth:this._paramRead("waves_depth"),waves_lambda:this._paramRead("waves_lambda"),waves_local_scale:this._paramRead("waves_local_scale"),waves_local_windSpeed:this._paramRead("waves_local_windSpeed"),waves_local_windDirection:this._paramRead("waves_local_windDirection"),waves_local_fetch:this._paramRead("waves_local_fetch"),waves_local_spreadBlend:this._paramRead("waves_local_spreadBlend"),waves_local_swell:this._paramRead("waves_local_swell"),waves_local_peakEnhancement:this._paramRead("waves_local_peakEnhancement"),waves_local_shortWavesFade:this._paramRead("waves_local_shortWavesFade"),waves_swell_scale:this._paramRead("waves_swell_scale"),waves_swell_windSpeed:this._paramRead("waves_swell_windSpeed"),waves_swell_windDirection:this._paramRead("waves_swell_windDirection"),waves_swell_fetch:this._paramRead("waves_swell_fetch"),waves_swell_spreadBlend:this._paramRead("waves_swell_spreadBlend"),waves_swell_swell:this._paramRead("waves_swell_swell"),waves_swell_peakEnhancement:this._paramRead("waves_swell_peakEnhancement"),waves_swell_shortWavesFade:this._paramRead("waves_swell_shortWavesFade")},a=this._gui.addFolder("Waves Generator");this._addSlider(a,e,"waves_g","Gravity",.01,30,.01),this._addSlider(a,e,"waves_depth","Ocean depth",.001,3,.001),this._addSlider(a,e,"waves_lambda","Lambda",0,1,.001);const s=a.addFolder("Local");this._addSlider(s,e,"waves_local_scale","Scale",0,1,.001),this._addSlider(s,e,"waves_local_windSpeed","Wind speed",.001,100,.001),this._addSlider(s,e,"waves_local_windDirection","Wind direction",-100,100,.1),this._addSlider(s,e,"waves_local_fetch","Fetch",100,1e6,100),this._addSlider(s,e,"waves_local_spreadBlend","Spread blend",0,1,.01),this._addSlider(s,e,"waves_local_swell","Swell",0,1,.01),this._addSlider(s,e,"waves_local_peakEnhancement","Peak enhanc.",.01,100,.01),this._addSlider(s,e,"waves_local_shortWavesFade","Short waves fade",.001,1,.001),s.open();const d=a.addFolder("Swell");this._addSlider(d,e,"waves_swell_scale","Scale",0,1,.001),this._addSlider(d,e,"waves_swell_windSpeed","Wind speed",.001,100,.001),this._addSlider(d,e,"waves_swell_windDirection","Wind direction",-100,100,.1),this._addSlider(d,e,"waves_swell_fetch","Fetch",100,1e6,100),this._addSlider(d,e,"waves_swell_spreadBlend","Spread blend",0,1,.01),this._addSlider(d,e,"waves_swell_swell","Swell",0,1,.01),this._addSlider(d,e,"waves_swell_peakEnhancement","Peak enhanc.",.01,100,.01),this._addSlider(d,e,"waves_swell_shortWavesFade","Short waves fade",.001,1,.001),d.open(),a.open()}_makeMenuOceanGeometry(){const e={oceangeom_lengthScale:this._paramRead("oceangeom_lengthScale"),oceangeom_vertexDensity:this._paramRead("oceangeom_vertexDensity"),oceangeom_clipLevels:this._paramRead("oceangeom_clipLevels"),oceangeom_skirtSize:this._paramRead("oceangeom_skirtSize"),oceangeom_wireframe:this._paramRead("oceangeom_wireframe"),oceangeom_noMaterialLod:this._paramRead("oceangeom_noMaterialLod")},a=this._gui.addFolder("Ocean Geometry");this._addSlider(a,e,"oceangeom_lengthScale","Length scale",1,100,.1),this._addSlider(a,e,"oceangeom_vertexDensity","Vertex density",1,40,1),this._addSlider(a,e,"oceangeom_clipLevels","Clip levels",1,8,1),this._addSlider(a,e,"oceangeom_skirtSize","Skirt size",0,100,.1),this._addCheckbox(a,e,"oceangeom_wireframe","Wireframe"),this._addCheckbox(a,e,"oceangeom_noMaterialLod","No material LOD")}_makeMenuOceanShader(){const e={oceanshader__Color:this._paramRead("oceanshader__Color"),oceanshader__MaxGloss:this._paramRead("oceanshader__MaxGloss"),oceanshader__RoughnessScale:this._paramRead("oceanshader__RoughnessScale"),oceanshader__LOD_scale:this._paramRead("oceanshader__LOD_scale"),oceanshader__FoamColor:this._paramRead("oceanshader__FoamColor"),oceanshader__FoamScale:this._paramRead("oceanshader__FoamScale"),oceanshader__ContactFoam:this._paramRead("oceanshader__ContactFoam"),oceanshader__FoamBiasLOD2:this._paramRead("oceanshader__FoamBiasLOD2"),oceanshader__SSSColor:this._paramRead("oceanshader__SSSColor"),oceanshader__SSSStrength:this._paramRead("oceanshader__SSSStrength"),oceanshader__SSSBase:this._paramRead("oceanshader__SSSBase"),oceanshader__SSSScale:this._paramRead("oceanshader__SSSScale")},a=this._gui.addFolder("Ocean Shader");this._addColor(a,e,"oceanshader__Color","Color"),this._addSlider(a,e,"oceanshader__MaxGloss","Max gloss",0,1,.01),this._addSlider(a,e,"oceanshader__RoughnessScale","Roughness scale",0,1,1e-4),this._addSlider(a,e,"oceanshader__LOD_scale","LOD scale",.01,20,.01),this._addColor(a,e,"oceanshader__FoamColor","Foam color"),this._addSlider(a,e,"oceanshader__FoamScale","Foam scale",.001,8,.001),this._addSlider(a,e,"oceanshader__ContactFoam","Foam contact",.001,3,.001),this._addSlider(a,e,"oceanshader__FoamBiasLOD2","Foam bias",.001,4,.001),this._addColor(a,e,"oceanshader__SSSColor","SSS color"),this._addSlider(a,e,"oceanshader__SSSStrength","SSS strength",.001,2,.001),this._addSlider(a,e,"oceanshader__SSSBase","SSS base",-2,1,.001),this._addSlider(a,e,"oceanshader__SSSScale","SSS scale",.001,10,.001)}_makeMenuBuoyancy(){const e={buoy_enabled:this._paramRead("buoy_enabled"),buoy_attenuation:this._paramRead("buoy_attenuation"),buoy_numSteps:this._paramRead("buoy_numSteps")},a=this._gui.addFolder("Buoyancy");this._addCheckbox(a,e,"buoy_enabled","Enabled"),this._addSlider(a,e,"buoy_attenuation","Damping factor",0,1,.001),this._addSlider(a,e,"buoy_numSteps","Num steps",1,20,1)}}}}]);
//# sourceMappingURL=827.eba02c7ef6347d2344fd.js.map